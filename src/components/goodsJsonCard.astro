---
import goods from "../data/goods.json";
console.log(goods);
---

<ul id="goods-list">
  {goods.map((list) =>

 <li>
    <a href=`/06_ecsite/goods/${list.url}`>
    <div class="imgBox">   <img src=`/06_ecsite/images/${list.itemphotos[0]}` /></div>

      <h3>{list.name}</h3>
        <p class="companyName">{list.maker}</p>
     <p class="price">Â¥{list.price}</p>
   <p id="state" class="state"></p>
      </a>
       </li>

  )}

</ul>
 <script>
  const goodsList = document.getElementById('goods-list');
  const state = document.getElementById('state');
  const goods = JSON.parse(`{{goods | json}}`);
  console.log(goods);
  </script>




<style lang="scss">

   $breakpoints: (
  "sm": "screen and (min-width: 900px)",
  "md": "screen and (min-width: 768px)",
  "lg": "screen and (min-width: 1000px)",
  "xl": "screen and (min-width: 1200px)",
 ) !default;

 @mixin mq($breakpoint) {
  @media #{map-get($breakpoints, $breakpoint)} {
    @content;
  }
 }
  ul{
    width: 85%;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    row-gap: 50px;
    a{
      width: fit-content;
    }
    li{
      width: 100%;
      list-style: none;
      .imgBox{
        width: 100%;
        aspect-ratio: 1/1;
        overflow: hidden;
        margin-bottom: 10px;
      }
      h3{
        font-size: 1rem;
        margin: 0;
        color: #048d2d;

      }
      img{
        width: 100%;
        height: auto;
      }

      .price{
        color: #d72d06;
      }
    }
  }

@include mq(sm){
  ul{
flex-direction: row;
    flex-wrap: wrap;
    justify-content: space-between;
    li{
      width: 30%;
    }
  }
}

.companyName{
  font-size: 0.8rem;
  color: #333;
}

</style>
